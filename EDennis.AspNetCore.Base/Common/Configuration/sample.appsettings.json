{
  "MockHeaders": {
    "X-User": {
      "Values": [ "moe@stooges.org" ],
      "ConflictResolution": "Skip"
    }
  },
  "HeadersToClaims": {
    "PreAuthentication": {
      "X-User": "name",
      "X-Role": "role"
    },
    "PostAuthentication": {
      "X-UserScope": "user_scope"
    }
  },
  "ScopeProperties": {
    "UserSource": [ "XUserHeader","JwtNameClaim" ],
    "CopyHeaders": true,
    "CopyClaims": true,
    "AppendHostPath": false
  },
  "DbContexts": {
    "SomeDbContext": {
      "DatabaseProvider": "SqlServer",
      "ConnectionString": "Server=(localdb)\\mssqllocaldb;Database=SomeDb;Trusted_Connection=True;MultipleActiveResultSets=true",
      "Interceptor": {
        "IsInMemory":  false,
        "InstanceNameSource": [ "XUserHeader", "JwtNameClaim" ],
        "IsolationLevel": "ReadUncommitted"
      }
    }
  },
  "Apis": {
    "ChildApi1": {
      "Scheme": "https",
      "Host": "localhost",
      "Version": 1.0,
      "HttpsPort": 6542,
      "HttpPort": 6543,
      "Client": {
        "Scopes": [ "My.Api1.*" ],
        "Mappings": {
          "ClaimsToHeaders": {
            "name": "X-User",
            "role": "X-Role"
          },
          "HeadersToHeaders": {
            "X-Testing-Rollback": "X-Testing-Rollback"
          }
        }
      },
      "Launcher": {
        "ProjectName": "My.ChildApi1",
        "NeedsLaunched": true
      }
    },
    "ChildApi2": {
      "Scheme": "https",
      "Host": "localhost",
      "Version": 1.1,
      "HttpsPort": 6544,
      "HttpPort": 6544,
      "Client": {
        "Scopes": [ "My.Api2.*" ],
        "Mappings": {
          "ClaimsToHeaders": {
            "name": "X-User",
            "role": "X-Role"
          },
          "HeadersToHeaders": {
            "X-Testing-Rollback": "X-Testing-Rollback"
          }
        }
      },
      "Launcher": {
        "ProjectName": "My.ChildApi1",
        "NeedsLaunched": true
      }
    }
  },
  "MockClient": {
    "ActiveMockClientKey": "EDennis.Samples.SomeExternalApi",
    "MockClients": {
      "EDennis.Samples.SomeExternalApi": {
        "IsActive": true,
        "ClientId": "EDennis.Samples.SomeExternalApi",
        "ClientSecret": "secret",
        "Scopes": [
          "EDennis.Samples.SomeExternalApi.*"
        ]
      },
      "EDennis.Samples.SomeExternalApi2": {
        "ClientId": "EDennis.Samples.SomeExternalApi2",
        "ClientSecret": "secret",
        "Scopes": [
          "EDennis.Samples.SomeExternalApi2.*"
        ]
      }
    }
  },
  "Security": {
    "IdentityServerBaseAddress": "https://localhost:55555",
    "ClientSecret": "secret",
    "TokenService": {
      "IdentityServerPingFrequency": 300
    },
    "Authentication": {
      "ClearDefaultInboundClaimTypeMap": true,
      "ScopePattern": {
        "ExclusionPrefix": "-"
      },
      "Oidc": {
        "UserScopePrefix": "user_",
        "ResponseType": "code id_token",
        "RequireHttpsMetadata": false,
        "SaveTokens": true,
        "GetClaimsFromUserInfoEndpoint": true,
        "OidcScope": {
          "AddOfflineAccess": true,
          "AdditionalScopes": [
            "name"
          ]
        }
      }
    }
  },
  "Logging": {
    "Loggers": {
      "Default": {
        "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.Seq" ],
        "MinimumLevel": {
          "Default": "Information",
          "Override": {
            "Microsoft": "Warning",
            "System": "Warning"
          }
        },
        "WriteTo": [
          { "Name": "Console" }
        ],
        "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
        "Properties": {
          "Application": "ColorsApi"
        }
      },
      "SerilogDebugLogger": {
        "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.Seq" ],
        "MinimumLevel": {
          "Default": "Debug",
          "Override": {
            "Microsoft": "Warning",
            "System": "Warning"
          }
        },
        "WriteTo": [
          { "Name": "Console" }
        ],
        "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
        "Properties": {
          "Application": "ColorsApi"
        }
      },
      "SerilogVerboseLogger": {
        "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.Seq" ],
        "MinimumLevel": {
          "Default": "Verbose",
          "Override": {
            "Microsoft": "Warning",
            "System": "Warning"
          }
        },
        "WriteTo": [
          { "Name": "Console" }
        ],
        "Enrich": [ "FromLogContext", "WithMachineName", "WithThreadId" ],
        "Properties": {
          "Application": "ColorsApi"
        }
      }
    }
  }
}
